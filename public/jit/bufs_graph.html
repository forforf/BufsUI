<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Relationship Manager -- or something</title>

<!-- CSS Files -->
<link type="text/css" href="../stylesheets/jit/base.css" rel="stylesheet" />
<link type="text/css" href="../stylesheets/jit/RGraph.css" rel="stylesheet" />

<!--[if IE]><script language="javascript" type="text/javascript" src="../javascripts/jit/Extras/excanvas.js"></script><![endif]-->

<!-- JIT Library File -->
<script language="javascript" type="text/javascript" src="../javascripts/jit/jit.js"></script>
<script language="javascript" type="text/javascript" src="../javascripts/prototype.js"></script>

<!-- Example File -->
<script language="javascript" type="text/javascript" src="bufs_graph.js"></script>
</head>

<body>
<div id="container">
  <div id="left-container">
    <div class="text">
      <h4>
      Relationships as a Tree   
      </h4> 

            User data is provided in a tree structure with the root node being the User's Id.   Updates to the data structure are reflected in the animation after successful update to the server.<br /><br />
            Clicking on the background canvas allows a new node to be created.<br /><br />
            Clicking on an existing node should move the tree and center on that node.<br /><br />
            The centered node's information is displayed in the right column and can be edited.<br /><br />
      <div class="footnote">
            The current data visualization scheme is heavily based on <a href="http://blog.thejit.org/">Nicolas Garcia Belmonte's</a><a href="http://thejit.org"> JavaScript InfoVis Toolkit.</a>.  <br /><br />
            Technical note: JIT uses a custom canvas class, migrating to use HTML5 canvas class is being looked at.<br /><br />
      </div>
    </div>

    <div id="testarea"></div>
    <b>New Feature Test Area <br /><br />
    <div style="text-align:center;"><a href="#" onclick="javascript:viz_update('/bufs_info_doc/test_resync?user=test')">Re-sync to file datai</a></div>
    <div style="text-align:center;"><a href="#" onclick="javascript:show_create_node_form()">Create Node</a></div>
    <div style="text-align:center;"><a href="#" onclick="javascript:show_destroy_node_form()">Destroy Node</a></div>
    <div style="text-align:center;"><a href="/bufs_info_doc/log_out">Sign Out</a></div>
  </div>

  <div id="center-container">
    <div id="infovis"></div>    
  </div>

  <div id="right-container">
    <div id="create-node-form" style="display:none;">
      <b>Create New Node</b>
        <p>
          <b>Node Tag</b><br/>
          <input id="node_cat_create" name="node_cat" type="text" />
        </p>
        <p>
          <b>Related Tags</b><br/>
          <input id="related_tags_create" name="related_tags" type="text" />
        </p>
        <p>
           <b> Add Attachment</b><br/>
           <input name="add_attachment" type="file" />
        </p>
        <p>
          <input name="commit" value="Submit" type="submit" onclick="javascript:create_node_data()">
        </p>
    </div>


    <div id="edit-node-form" style="display:none;">
      <b>Edit Node</b>
      <form id="add_attach_form" action="/bufs_info_doc/att_test" method="post" enctype="multipart/form-data">
        <p>
          <b>Node Tag</b><br/>
          <input id="node_cat_edit" name="node_cat" type="text"/>
        </p>
        <p>
          <b>Related Tags</b><br/>
          <input id="related_tags_edit" name="related_tags" type="text"t/>
        </p>
        <p>
          <input name="commit" value="Edit Node" type="button" onclick="javascript:edit_node_data()">
        </p>
         <p>
           <div id="attachment_list">No Node Selected</div>
        </p>
        <br/>

           <b> Add Attachment</b><br/>
           <input id="add_attach_edit" name="add_attachment" type="file" />
        </p>
        <p>
          <input name="action" value="Add Attachment" type="button" onclick="javascript:redirect_submit()">
        </p>
         
        <iframe id="files_uploaded_iframe" name="files_uploaded_iframe" src="" style="display:none">
        </iframe>
       </form>
    </div>


    <div id="destroy-node-form" style="display:none;">
      <b>Destroy Node</b>
        <p>
          <b>Node Tag</b><br>
          <input id="node_cat_destroy" name="node_cat" type="text">
        </p>

        <p>
          <input name="commit" value="Submit" type="submit" onclick="javascript:destroy_node_data()">
        </p>
    </div>


    <div id="inner-details"></div>

  </div>

</div>
<div id="log"></div>
</div>
</body>
</html>
